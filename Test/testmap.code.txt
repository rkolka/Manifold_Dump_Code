---- Mapfile: C:\Users\riivo.kolka\Documents\src\Manifold_Dump_Code\Test\testmap.map
---- query: Create_Inventory

CREATE TABLE [Inventory] (
  [mfd_id] INT64,
  [Stock] INT32,
  [ExtraStock] INT32
    WITH [[ FUNCTION f(@x INT32) INT32 AS @x+100 END; ]]
    AS [[ f([Stock]) ]],
  [insertdate] DATETIME
    WITH [[ SCRIPT funcs ENGINE 'c#' [[
  class Script
  {
    static System.DateTime F() { return System.DateTime.Now; }
  }
]];

FUNCTION currentdate() DATETIME AS SCRIPT INLINE funcs ENTRY 'Script.F'; ]]
    AS [[ currentdate() ]],  
  [insertdate2] DATETIME
    WITH [[ SCRIPT funcs ENGINE 'c#' [[
  class Script
  {
    static System.DateTime F(int a) { return System.DateTime.Now; }
  }
]];

FUNCTION currentdate(@a INT32) DATETIME AS SCRIPT INLINE funcs ENTRY 'Script.F'; ]]
    AS [[ currentdate(1) ]],
  INDEX [mfd_id_x] BTREE ([mfd_id])
);


---- query: Create_My Components

CREATE TABLE [My Components] (
  [mfd_id] INT64,
  [Component Name] VARCHAR,
  INDEX [mfd_id_x] BTREE ([mfd_id]),
  CONSTRAINT [Ncomp]
    AS [[ (

    [Component Name] IN (SELECT [Name] FROM [mfd_root])

  ) ]]
);


---- query: Create_Prices

CREATE TABLE [Prices] (
  [mfd_id] INT64,
  [Cost] INT32,
  [Retail] INT32,
  INDEX [mfd_id_x] BTREE ([mfd_id]),
  CONSTRAINT [Profitable]
    AS [[ (
    [Retail] > [COST]*2
  ) ]]
);


---- query: Test_Query

-- $manifold$

SELECT * FROM [mfd_root];

---- script: Test_CS

// C#

class Script
{

static Manifold.Context Manifold;
static void Main()
{
	Manifold.Application.Log("Hello, World!");
	Manifold.Application.OpenLog();
}

}


---- script: Test_IPY

# IronPython
#
# Note: running script requires IronPython (IronPython.dll)

def Main():
	Manifold.Application.Log("Hello, World!")
	Manifold.Application.OpenLog()


---- script: Test_JS

// JavaScript

var Main = function()
{
	Manifold.Application.Log("Hello, World!");
	Manifold.Application.Log('Hello, World!');
	Manifold.Application.OpenLog();
}


